
@{
    ViewBag.Title = "PostList";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayout.cshtml";
}

@model List<DTO.PostDTO>


<section class="content-header">

    <ol class="breadcrumb float-sm-left">
        <li class="breadcrumb-item"><a>Admin</a></li>
        <li class="breadcrumb-item"><a>Post</a></li>
        <li class="breadcrumb-item active"><a>Post List</a></li>

    </ol>
    
    <button type="submit" class="btn btn-primary float-right" onclick="window.location.href='/Admin/Post/AddPost'">Add Post</button>

</section>
<br />
<br />


@using DTO
@{
    CountDTO countdto = (CountDTO)ViewData["AllCounts"];
}

<div class="card">

    <!-- Small boxes (Stat box) -->
    <div class="row">
        
        <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-info">
                <div class="inner">
                    <h3>@countdto.PostCount</h3>

                    <p>Post Count</p>
                </div>

            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-success">
                <div class="inner">
                    <h3>@countdto.ViewCount</h3>

                    <p>Total Views</p>
                </div>

            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-warning">
                <div class="inner">
                    <h3>@countdto.CommentCount</h3>

                    <p>Comment Count</p>
                </div>

            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-3 col-6">
            <!-- small box -->
            <div class="small-box bg-danger">
                <div class="inner">
                    <h3>@countdto.MessageCount</h3>

                    <p>Message Count</p>
                </div>

            </div>
        </div>
        <!-- ./col -->
    </div>
    <br/>
    <!-- /.row -->
    <!-- /.card-header -->
    <div class="card">
        <div class="card-body">
            <table id="example1" class="table table-bordered table-hover">
                <thead>
                    <tr>
                        <th style="text-align: center">Title</th>
                        <th style="text-align: center">Category Name</th>
                        <th style="text-align: center">Add Date</th>
                        <th style="text-align: center">Update</th>
                        <th style="text-align: center">Delete</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {

                        <tr id="a_@item.ID">
                            <td>@item.Title</td>
                            <td align="center" valign="middle">@item.CategoryName</td>
                            <td align="center" valign="middle">@item.AddDate.ToString("dd.MM.yyyy, dddd")</td>

                            <td class="button-cell">
                                <div class="button-wrapper">
                                    <a href="/Admin/Post/UpdatePost/@item.ID">
                                        <img src="~/Areas/Admin/Icons/Update.png" />
                                    </a>
                                </div>
                            </td>
                            
                            <td class="button-cell">
                                <div class="button-wrapper">
                                    <a href="#">
                                        <img src="~/Areas/Admin/Icons/delete.png" data-toggle="modal" data-target="#modalmessage" onclick="AskQuestion('/Admin/Post/DeletePost/',@item.ID)" />
                                    </a>
                                </div>
                            </td>
                        </tr>


                    }
                </tbody>

            </table>
        </div>
    </div>

    <!-- /.card -->
    <br />
    @Html.Partial("~/Areas/Admin/Views/Shared/ModalMessage.cshtml")
    <!-- /.card-body -->
</div>
<script src="~/Areas/Admin/Content/JS/DeleteRecord.js"></script>
